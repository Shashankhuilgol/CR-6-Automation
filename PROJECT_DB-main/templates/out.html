{% extends 'base.html' %}

{% block title %}
OUT
{% endblock title %}

{% block body %}

<!-- Link to out.css -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/out.css') }}">

<div class="container mt-4">
    <div class="row">
        
        <div class="col-md-4">
            <form action="/movement1" method="POST">
                <button type="submit" class="btn btn-dark btn-sm btn-block">Click here to see movement list</button>
            </form>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-3">
            <form action="/out" method="POST">
                <label for="rno">Room number:</label>
                <select class="form-select" id="rno" name="rno" required>
                    <option selected disabled value="">Select the room number</option>
                    {% for post in query[0] %}
                    <option>{{post.rno}}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-secondary btn-sm btn-block">Submit</button>
            </form>
        </div>
    </div>

    {% with message=get_flashed_messages(with_categories=true) %}
    {% if message %}
    {% for category, message in message %}
    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>

<table class="table">
    <thead class="thead-light">
        <tr>
            <th scope="col">ITEM_ID</th>
            <th scope="col">ITEM_NAME</th>
            <th scope="col">ROOM_NUMBER</th>
            <th scope="col">DEPARTMENT</th>
        </tr>
    </thead>
    <tbody>
        {% for post in query[1] %}
        <tr>
            <th scope="row">{{post.item_id}}</th>
            <th scope="row">{{post.item_name}}</th>
            <th scope="row">{{post.rno}}</th>
            <th scope="row">{{post.dname}}</th>
        </tr>
        {% endfor %}
    </tbody>
</table>


{% endblock body %}
